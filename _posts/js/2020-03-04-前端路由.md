---
layout: default
title:  "前端路由"
date:   2020-03-04 17:50:00
des:  ""
motto:  ""
categories: js
---

## hash
hash 是 URL 中 hash (#) 及后面的那部分，常用作锚点在页面内进行导航，改变 URL 中的 hash 部分不会引起页面刷新。

#### 优点
1、实现简单，兼容性好（兼容到ie8）

2、绝大多数前端框架均提供了给予hash的路由实现

3、不需要服务器端进行任何设置和开发

4、除了资源加载和ajax请求以外，不会发起其他请求

#### 缺点
1、对于部分需要重定向的操作，后端无法获取hash部分内容，导致后台无法取得url中的数据，典型的例子就是微信公众号的oauth验证

2、服务器端无法准确跟踪前端路由信息

3、对于需要锚点功能的需求会与目前路由机制冲突

## history
history 提供了 pushState 和 replaceState 两个方法，这两个方法改变 URL 的 path 部分不会引起页面刷新。

#### 优点
1、对于重定向过程中不会丢失url中的参数。后端可以拿到这部分数据

2、绝大多数前段框架均提供了browser的路由实现

3、后端可以准确跟踪路由信息

4、可以使用history.state来获取当前url对应的状态信息

#### 缺点
1、兼容性不如hash路由(只兼容到IE10)

2、需要后端支持，每次返回html文档

